{% extends 'dashboard.html' %}
{% load widget_tweaks %}
{% load static %}
{% load item_tags %}

{% block require %}
 
 
    <script src="{% static 'js/require.js' %}"   data-main="{% static 'js/common3_withoutMathJax.js' %}"></script>
 

    <script>
        require(['script/ajax-sequence']);
    </script> 
  

{% endblock %} 





{% block body %}  
<section class="content_main">
    <form action="" method="POST" enctype='multipart/form-data'>
    <input name="sequence" id="sequence_id" type="hidden" value="{{ sequence.id }}" />    
    {% csrf_token %}
    <div class="row margin_top20">
        <div class="col-sm-5 col-md-4 col-lg-4">
            <div class="sacado_color_text input-group" id="sequence_title" >
                <span id="new_title">{{ sequence.title }}</span>                     
                <a href="javascript:void();" class="sacado_color"  id="change_title" > <i class="bi bi-pencil"></i></a>
            </div>
            <div class="input-group no_visu_on_load" id="sequence_title_form" >
                {{ form.title |add_class:"form-control-custom"  }}
                {{ form.title.errors }}
                <span class="input-group-addon inline">  
                    <a href="javascript:void();" class="btn btn-form text-danger size20" id="close_sequence_title_form"><i class="bi bi-x-lg"></i></a>
                    <a href="javascript:void();" class="btn btn-form text-success size20 save_sequence" data-sequence_id="{{ sequence.id}}"  data-champ="title"><i class="bi bi-check"></i></a>
                </span>
            </div>
        </div>
        <div class="col-sm-6 col-md-6 col-lg-6">
            <div class="input-group" id="sequence_code">
                <span class="sacado_color_text font16"> 
                    Participer : https://docadok.org/<span id="new_code">{{ sequence.code}}</span>
                    <a href="javascript:void();" class="sacado_color"   id="change_code" > <i class="bi bi-pencil"></i></a>
                </span>
 
            </div>            
            <div class="form-group no_visu_on_load" id="sequence_code_form">
                <span class="color_gray font16" > 
                    Participer : https://docadok.org/<span class="input-group-addon inline">{{ form.code|add_class:"form-control-custom "  }}</span>
                </span>
                <a href="javascript:void();" class="btn btn-form text-danger size20"  id="close_sequence_code_form"><i class="bi bi-x-lg"></i></a>
                <a href="javascript:void();" class="btn btn-form text-success size20 save_sequence" data-sequence_id="{{ sequence.id}}"  data-champ="code"><i class="bi bi-check"></i></a>
            </div>
        </div>
        <div class="col-sm-1 col-md-1 col-lg-1">
            <div class="form-group">
                <a href="#" class="btn btn-new-violet" id="open_properties"><i class="bi bi-gear"></i></a>
            </div>
        </div>
    </div>

    <div class="row no_visu_on_load" id="properties">
        <div class="col-sm-12 col-md-4 col-lg-4">
            <div class="form-group">
                <table class="table borderless">
                    <tr>
                        <td>{{ form.temporisation.label_tag  }}
                            <span class="helper_tip"> <i class="bi bi-question-circle"></i> 
                                <div class="helper_tip_text_right" >Lancement de l'activité sans intervention de l'organisateur 10 secondes après la fin de l'activité précédente.</div>
                            </span>                        
                        </td>
                        <td>{{ form.temporisation|add_class:"check_sequence"|attr:"data-toggle:toggle" |attr:"data-onstyle:primary"|attr:"data-offstyle:default"|attr:"data-on:Oui"|attr:"data-off:Non"|attr:"data-size:small"}} </td>
                    </tr>
                    <tr>
                        <td>{{ form.authentification.label_tag  }}
                            <span class="helper_tip"> <i class="bi bi-question-circle"></i> 
                                <div class="helper_tip_text_right" >Nécessite l'authentification pour participer.</div>
                            </span>
                        </td>
                        <td>{{ form.authentification|add_class:"check_sequence"|attr:"data-toggle:toggle" |attr:"data-onstyle:primary"|attr:"data-offstyle:default"|attr:"data-on:Oui"|attr:"data-off:Non"|attr:"data-size:small"}} </td>
                    </tr>
                    <tr>
                        <td>{{ form.pseudonyme.label_tag  }}
                            <span class="helper_tip"> <i class="bi bi-question-circle"></i> 
                                <div class="helper_tip_text_right" >Le participant choisit son pseudonyme.</div>
                            </span>
                        </td>
                        <td>{{ form.pseudonyme|add_class:"check_sequence"|attr:"data-toggle:toggle" |attr:"data-onstyle:primary"|attr:"data-offstyle:default"|attr:"data-on:Oui"|attr:"data-off:Non"|attr:"data-size:small"}} </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="col-sm-12 col-md-5 col-lg-5">
            <div class="form-group">
                <table class="table borderless">
                    <tr>
                        <td>{{ form.competition.label_tag  }}
                            <span class="helper_tip"> <i class="bi bi-question-circle"></i> 
                                <div class="helper_tip_text" >Interaction des scores déterminés dans les activités.</div>
                            </span>
                        </td>
                        <td>{{ form.competition|add_class:"check_sequence"|attr:"data-toggle:toggle" |attr:"data-onstyle:primary"|attr:"data-offstyle:default"|attr:"data-on:Oui"|attr:"data-off:Non"|attr:"data-size:small"}}  </td>
                    </tr>
                    <tr>
                        <td>{{ form.terminal.label_tag  }}
                            <span class="helper_tip"> <i class="bi bi-question-circle"></i> 
                                <div class="helper_tip_text" >Chaque participant voit la question sur son terminal.</div>
                            </span>
                        </td>
                        <td>{{ form.terminal|add_class:"check_sequence"|attr:"data-toggle:toggle" |attr:"data-onstyle:primary"|attr:"data-offstyle:default"|attr:"data-on:Oui"|attr:"data-off:Non"|attr:"data-size:small"}}</td>
                    </tr>
                    <tr>
                        <td>{{ form.displayresult.label_tag  }}
                            <span class="helper_tip"> <i class="bi bi-question-circle"></i> 
                                <div class="helper_tip_text" >Résultats visibles en fin d'avtivité.</div>
                            </span>
                        </td>
                        <td>{{ form.displayresult|add_class:"check_sequence"|attr:"data-toggle:toggle" |attr:"data-onstyle:primary"|attr:"data-offstyle:default"|attr:"data-on:Oui"|attr:"data-off:Non"|attr:"data-size:small"}} </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="col-sm-12 col-md-3 col-lg-3">
            <div class="form-group">
                 
                <div>
                    <a href="#" class="btn btn-form text-danger size20 close_properties"><i class="bi bi-x-lg"></i></a>
                    <a href="#" class="btn btn-form text-success size20 close_properties"><i class="bi bi-check"></i></a>
                </div>
 
            </div>
        </div>
    </div>

 


    <div class="row" style="margin-top:40px">
        <div class="col-sm-12 col-md-8">
            <div class="form-group">

                <input value="Enregistrer et choisir les exercices" type="submit" name="save_and_choose" class="btn btn-primary" />                
                <input value="Enregistrer" type="submit" name="saver" class="btn btn-default"  />

                <a href="javascript:history.back()"><input type="button" value="Annuler" class="btn btn-default "/></a>
            </div>
        </div> 

        {% block save_evaluation %}
        <div class="col-sm-12 col-md-4">
        {% if parcours %}
                
                <a href="{% url 'clone_parcours' parcours.id  1 %}" class="btn btn-info"  onclick="return TestDuplicate('ce parcours')"> 
                    <i class="fa fa-clone"> </i>   Dupliquer
                </a>
 
                {% if parcours.is_archive %}
                    <a href="{% url 'unarchive_parcours' parcours.id  idg  %}" class="btn btn-warning"> 
                        <i class="fa fa-th"> </i>   Désarchiver
                    </a>
                {% else %}
                    <a href="{% url 'archive_parcours' parcours.id  idg  %}" class="btn btn-warning"  onclick="return TestArchive('ce parcours')"> 
                        <i class="fa fa-archive"> </i>   Archiver
                    </a>
                {% endif %}
                <a href="{% url 'delete_parcours' parcours.id  idg  %}" class="btn btn-danger"  onclick="return TestDelete('ce parcours')"> 
                    <i class="fa fa-trash"> </i>   Supprimer
                </a>
    
        {% endif %}  
        </div>
        {% endblock %}
    </div>  

    </form>      
</section>   





{% endblock %}


      
 
 